<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <title>Szkoła Scholar Erazmus - Gra</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f0f0f0;
      margin: 0;
      padding: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
    }
    #game {
      background: white;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 0 10px rgba(0,0,0,0.3);
      width: 600px;
      max-width: 90%;
    }
    .choice {
      display: block;
      margin: 10px 0;
      padding: 10px;
      background: #e0e0ff;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      transition: 0.3s;
    }
    .levels-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr); 
      gap: 10px;
      margin: 20px 0;
    }
    .choice:hover {
      background: #c0c0ff;
    }
    .column {
            background-color: #222;
            padding: 60px 20px;
            text-align: center;
            border-radius: 15px;
            box-shadow: 5px 5px 15px #000;
            cursor: pointer;
            transition: all 0.3s;
    }
    h1, h2 {
      text-align: center;
    }
  </style>
</head>
<body>
  <div id="game">
    <h1>Szkoła Scholar Erazmus</h1>
    <div id="content"></div>
  </div>

  <script>
    const content = document.getElementById("content");
    let playerPath = [];

    function showMenu() {
      content.innerHTML = `
        <h2>Menu Główne</h2>
        <button class="choice" onclick="showLevels()">Chapter 1</button>
      `;
    }

    function showLevels() {
      content.innerHTML = `
        <h2>Chapter 1</h2>
        <div class="levels-grid">
    <button class="choice" onclick="level1()">Poziom 1</button>
    <button class="choice" onclick="level2()">Poziom 2</button>
    <button class="choice" onclick="level3()">Poziom 3</button>
    <button class="choice" onclick="level4()">Poziom 4</button>
    <button class="choice" onclick="level5()">Poziom 5</button>
    <button class="choice" onclick="level6()">Poziom 6</button>
    <button class="choice" onclick="level7()">Poziom 7</button>
    <button class="choice" onclick="level8()">Poziom 8</button>
    <button class="choice" onclick="level9()">Poziom 9</button>
    <button class="choice" onclick="level10()">Poziom 10</button>
    <button class="choice" onclick="level11()">Poziom 11</button>
    <button class="choice" onclick="level12()">Poziom 12</button>
    <button class="choice" onclick="level13()">Poziom 13</button>
    <button class="choice" onclick="level14()">Poziom 14</button>
    <button class="choice" onclick="level15()">Poziom 15</button>
    <button class="choice" onclick="level16()">Poziom 16</button>
    <button class="choice" onclick="level17()">Poziom 17</button>
    <button class="choice" onclick="level18()">Poziom 18</button>
        </div>
        <button class="choice" onclick="showMenu()">Powrót</button>
      `;
    }

function confirmChoice(type) {
  content.innerHTML = `
    <h2>Jesteś pewien swojego wyboru?</h2>
    <button class="choice" style="background-color:green; color:white;" onclick="proceedChoice('${type}')">TAK</button>
    <button class="choice" style="background-color:red; color:white;" onclick="level14()">NIE</button>
  `;
}

function proceedChoice(type) {
  if (type === "support") {
    lvl14_support();
  } else if (type === "against") {
    lvl14_against();
  }
}

    // ===== POZIOM 1 =====
    function level1() {
      playerPath = []; // reset ścieżki dla nowej gry
      content.innerHTML = `
        <h2>Poziom 1</h2>
        <p>Jesteś w klasie 7 w szkole Scholat Erazmus. Wokół ciebie są twoi znajomi: Ksawery, Filip, Dawid, Oskar, Milena, Wiktoria, Natalka, Szymon, Marcel, Adam, Sławek, Oliwia, Kuba, Karol i Roxana.</p>
        <p>Nauczyciel wyszedł z klasy. Co robisz?</p>
        <button class="choice" onclick="lvl1_choice1()">Zaczynasz gadać z Dawidem i Oskarem</button>
        <button class="choice" onclick="lvl1_choice2()">Siedze spokojnie przy Szymonie</button>
      `;
    }

    // WYBÓR 1
    function lvl1_choice1() {
      playerPath.push("smiech");
      content.innerHTML = `
        <h2>Rozmowa</h2>
        <p>Dawid i Oskar rzucają żartami. Cała klasa się śmieje, co robisz?</p>
        <button class="choice" onclick="lvl1_choice1a()">Śmieje się razem z nimi</button>
        <button class="choice" onclick="lvl1_choice1b()">Podrzucam własny żart</button>
      `;
    }

    function lvl1_choice1a() {
      playerPath.push("smiech_z_klasa");
      content.innerHTML = `
        <h2>Śmiech</h2>
        <p>Milena i Wiktoria zaczynają pyskatą rozmowę z Oliwią. Atmosfera robi się gorąca.</p>
        <button class="choice" onclick="endLevel('Dostałeś uwagę za śmianie się na lekcji! Koniec poziomu.')">Zakończ</button>
      `;
    }

    function lvl1_choice1b() {
      playerPath.push("twoj_zart");
      content.innerHTML = `
        <h2>Twój żart</h2>
        <p>Cała klasa się śmieje, a nauczyciel wraca i patrzy podejrzliwie.</p>
        <button class="choice" onclick="endLevel('Nauczyciel podejrzewa, że to Ty żartowałeś. Koniec poziomu.')">Zakończ</button>
      `;
    }

    // WYBÓR 2
    function lvl1_choice2() {
      playerPath.push("spokoj");
      content.innerHTML = `
        <h2>Spokój</h2>
        <p>Szymon patrzy na Ciebie z uznaniem. Co robisz dalej?</p>
        <button class="choice" onclick="lvl1_choice2a()">Rozmawiam z Roxaną o mediach</button>
        <button class="choice" onclick="lvl1_choice2b()">Rozmawiam z Marcelem o siłowni</button>
      `;
    }

    function lvl1_choice2a() {
      playerPath.push("roxana_media");
      content.innerHTML = `
        <h2>Media</h2>
        <p>Roxana zaczyna opowiadać o najnowszych trendach w mediach społecznościowych.</p>
        <button class="choice" onclick="endLevel('Dowiedziałeś się czegoś nowego o mediach. Koniec poziomu.')">Zakończ</button>
      `;
    }

    function lvl1_choice2b() {
      playerPath.push("marcel_silownia");
      content.innerHTML = `
        <h2>Siłownia</h2>
        <p>Marcel opowiada o swoich treningach. Czujesz motywację.</p>
        <button class="choice" onclick="endLevel('Może też pójdziesz na siłownię? Koniec poziomu.')">Zakończ</button>
      `;
    }

function endLevel(message) {
  playerPath.push("level1_completed");    
  content.innerHTML = `
    <h2>Koniec poziomu</h2>
    <p>${message}</p>
    <button class="choice" onclick="showLevels()">Powrót do wyboru poziomu</button>
  `;
}

    function level2() {
      if (!playerPath.includes("level1_completed")) {    
        content.innerHTML = `
          <h2>Poziom 2</h2>
          <p>Najpierw musisz ukończyć Poziom 1, aby odblokować decyzje!</p>
          <button class="choice" onclick="showLevels()">Powrót</button>
        `;
        return;
      }

      if (playerPath.includes("smiech")) {
        content.innerHTML = `
          <h2>Poziom 2</h2>
          <p>Twoje żarty z Dawidem i Oskarem zrobiły z Ciebie klasowego rozrabiakę. Teraz na przerwie Adam i Sławek chcą, żebyś dołączył do ich grupy. Co robisz?</p>
          <button class="choice" onclick="lvl2_fun1()">Dołączasz</button>
          <button class="choice" onclick="lvl2_fun2()">Odmów</button>
        `;
      } else if (playerPath.includes("spokoj")) {
        content.innerHTML = `
          <h2>Poziom 2</h2>
          <p>Twoje spokojne zachowanie spodobało się nauczycielowi. Teraz na przerwie Kuba i Karol zapraszają Cię do wspólnej gry na telefonie. Co robisz?</p>
          <button class="choice" onclick="lvl2_calm1()">Grasz z nimi</button>
          <button class="choice" onclick="lvl2_calm2()">Odmów</button>
        `;
      }
    }

    function lvl2_fun1() {
      content.innerHTML = `
        <h2>Adam i Sławek</h2>
        <p>Adam i Sławek proponują Ci wspólny psikus na Milenie. Co robisz?</p>
        <button class="choice" onclick="endLevel2('Psikus się udał, ale dostałeś uwagę od nauczyciela! Koniec poziomu.')">Robisz psikus</button>
        <button class="choice" onclick="endLevel2('Odmówiłeś i zachowałeś spokój – Adam i Sławek byli zawiedzeni. Koniec poziomu.')">Odmów</button>
      `;
    }

    function lvl2_fun2() {
      content.innerHTML = `
        <h2>Odmowa</h2>
        <p>Wracasz do Dawida i Oskara. Proponują Ci nowy żart na nauczyciela.</p>
        <button class="choice" onclick="endLevel2('Żart wyszedł i cała klasa się śmiała – ale nauczyciel znów był podejrzliwy. Koniec poziomu.')">Zgadzasz się</button>
        <button class="choice" onclick="endLevel2('Odmówiłeś – Dawid i Oskar uznali Cię za nudziarza. Koniec poziomu.')">Nie zgadzasz się</button>
      `;
    }

    // ŚCIEŻKA SPOKOJNA
    function lvl2_calm1() {
      content.innerHTML = `
        <h2>Gra na telefonie</h2>
        <p>Kuba i Karol proponują Ci grę drużynową. Co wybierasz?</p>
        <button class="choice" onclick="endLevel2('Wygraliście razem i zostaliście super kumplami! Koniec poziomu.')">Grasz z nimi</button>
        <button class="choice" onclick="endLevel2('Znudziło Cię to i poszedłeś pogadać z innymi. Koniec poziomu.')">Rezygnujesz</button>
      `;
    }

    function lvl2_calm2() {
      content.innerHTML = `
        <h2>Szymon i zasady</h2>
        <p>Szymon proponuje Ci dołączyć do kółka regulaminowego. Co robisz?</p>
        <button class="choice" onclick="endLevel2('Dołączyłeś i pomogłeś spisać nowe zasady w klasie! Koniec poziomu.')">Dołączasz</button>
        <button class="choice" onclick="endLevel2('Odmówiłeś – Szymon się zawiódł. Koniec poziomu.')">Odmów</button>
      `;
    }

    function endLevel2(message) {
      playerPath.push("level2_completed");
      content.innerHTML = `
        <h2>Koniec Poziomu 1</h2>
        <p>${message}</p>    
        <button class="choice" onclick="showLevels()">Powrót do wyboru poziomu</button>
      `;
    }
    
        // ===== POZIOM 3 =====
    function level3() {
      if (!playerPath.includes("level2_completed")) {
        content.innerHTML = `
          <h2>Poziom 3</h2>
          <p>Najpierw musisz ukończyć Poziom 2, aby odblokować decyzje!</p>
          <button class="choice" onclick="showLevels()">Powrót</button>
        `;
        return;
      }

      if (playerPath.includes("smiech")) {
        content.innerHTML = `
          <h2>Poziom 3</h2>
          <p>Twoja rozrabiactwo rośnie w siłę! Milena i Wiktoria próbują wciągnąć Cię w kłótnię z Oliwią. Co robisz?</p>
          <button class="choice" onclick="lvl3_fun1()">Dołączasz</button>
          <button class="choice" onclick="lvl3_fun2()">Ignorujesz</button>
        `;
      } else if (playerPath.includes("spokoj")) {
        content.innerHTML = `
          <h2>Poziom 3</h2>
          <p>Twoje spokojne podejście sprawiło, że nauczyciel daje Ci odpowiedzialne zadanie. Ale Kuba i Karol też chcą, żebyś pograł z nimi. Co wybierasz?</p>
          <button class="choice" onclick="lvl3_calm1()">Pomagasz nauczycielowi</button>
          <button class="choice" onclick="lvl3_calm2()">Idziesz grać</button>
        `;
      }
    }

    function lvl3_fun1() {
  content.innerHTML = `
    <h2>Kłótnia</h2>
    <p>Dołączasz do kłótni – atmosfera robi się naprawdę gorąca.</p>
    <button class="choice" onclick="endLevel3('Nauczyciel przyłapał Cię na kłótni – uwaga wpisana! Koniec poziomu.')">Zostajesz przyłapany</button>
    <button class="choice" onclick="playerPath.push('uciekasz'); endLevel3('Uciekłeś z kłótni w ostatniej chwili, Milena, Wiktoria i Oliwia dostały uwagę i są na Ciebie obrażone – nie rozmawiają z Tobą. Koniec poziomu.')">Uciekasz</button>
  `;
}


    function lvl3_fun2() {
      content.innerHTML = `
        <h2>Kumple</h2>
        <p>Wracasz do Adama i Sławka – proponują trening na boisku.</p>
        <button class="choice" onclick="endLevel3('Trening był świetny, zyskałeś nowych przyjaciół! Koniec poziomu.')">Trenujesz</button>
        <button class="choice" onclick="endLevel3('Odmówiłeś – Adam i Sławek poszli sami. Koniec poziomu.')">Odmów</button>
      `;
    }

    // ŚCIEŻKA SPOKOJNA
    function lvl3_calm1() {
      content.innerHTML = `
        <h2>Pomoc nauczycielowi</h2>
        <p>Nauczyciel prosi Cię o sprawdzenie obecności w dzienniku.</p>
        <button class="choice" onclick="endLevel3('Pomogłeś i nauczyciel Cię pochwalił! Koniec poziomu.')">Pomagasz</button>
        <button class="choice" onclick="endLevel3('Zrezygnowałeś w połowie – nauczyciel był zawiedziony. Koniec poziomu.')">Rezygnujesz</button>
      `;
    }

    function lvl3_calm2() {
      content.innerHTML = `
        <h2>Gra online</h2>
        <p>Kuba i Karol proponują wspólną rozgrywkę po lekcjach.</p>
        <button class="choice" onclick="endLevel3('Gracie razem i świetnie się bawicie. Koniec poziomu.')">Dołączasz</button>
        <button class="choice" onclick="endLevel3('Nie chciało Ci się grać – chłopaki trochę się obrazili. Koniec poziomu.')">Odmów</button>
      `;
    }

    function endLevel3(message) {
      playerPath.push("level3_completed");
      content.innerHTML = `
        <h2>Koniec Poziomu 3</h2>
        <p>${message}</p>
        <button class="choice" onclick="showLevels()">Powrót do wyboru poziomu</button>
      `;
    }
    
    function level4() {
      if (!playerPath.includes("level3_completed")) {
        content.innerHTML = `
          <h2>Poziom 4</h2>
          <p>Najpierw musisz ukończyć wcześniejsze poziomy, aby odblokować ten!</p>
          <button class="choice" onclick="showLevels()">Powrót</button>
        `;
        return;
      }

      if (playerPath.includes("smiech")) {
        content.innerHTML = `
          <h2>Poziom 4</h2>
          <p>Twoja reputacja rozrabiaki jest już wszędzie znana. Marcel z siłowni proponuje Ci siłowe wyzwanie, a Oskar – nowy żart na nauczyciela. Co wybierasz?</p>
          <button class="choice" onclick="lvl4_fun1()">Siłowe wyzwanie</button>
          <button class="choice" onclick="lvl4_fun2()">Nowy żart</button>
        `;
      } else if (playerPath.includes("spokoj")) {
        content.innerHTML = `
          <h2>Poziom 4</h2>
          <p>Twoja spokojna postawa zyskała szacunek u Szymona. Proponuje wspólną organizację zasad w klasie, ale Roxana zaprasza Cię do wspólnego oglądania mediów. Co robisz?</p>
          <button class="choice" onclick="lvl4_calm1()">Pomagasz Szymonowi</button>
          <button class="choice" onclick="lvl4_calm2()">Idziesz do Roxany</button>
        `;
      }
    }

    function lvl4_fun1() {
      content.innerHTML = `
        <h2>Siłowe wyzwanie</h2>
        <p>Marcel wyzywa Cię na pojedynek w podnoszeniu ciężarów.</p>
        <button class="choice" onclick="endLevel4('Dałeś radę i wszyscy byli pod wrażeniem! Koniec poziomu.')">Podejmujesz wyzwanie</button>
        <button class="choice" onclick="endLevel4('Odmówiłeś – Marcel stracił do Ciebie szacunek. Koniec poziomu.')">Odmów</button>
      `;
    }

    function lvl4_fun2() {
      content.innerHTML = `
        <h2>Nowy żart</h2>
        <p>Oskar proponuje Ci psikus na nauczycielu.</p>
        <button class="choice" onclick="endLevel4('Żart wyszedł genialnie – cała klasa się śmiała! Koniec poziomu.')">Zgadzasz się</button>
        <button class="choice" onclick="endLevel4('Odmówiłeś – Oskar był zawiedziony. Koniec poziomu.')">Odmów</button>
      `;
    }

    function lvl4_calm1() {
      content.innerHTML = `
        <h2>Pomoc Szymonowi</h2>
        <p>Pomagasz Szymonowi spisać regulamin.</p>
        <button class="choice" onclick="endLevel4('Regulamin wyszedł świetnie – cała klasa była dumna! Koniec poziomu.')">Pomagasz</button>
        <button class="choice" onclick="endLevel4('Zrezygnowałeś – Szymon był rozczarowany. Koniec poziomu.')">Rezygnujesz</button>
      `;
    }

    function lvl4_calm2() {
      content.innerHTML = `
        <h2>Oglądanie z Roxaną</h2>
        <p>Roxana pokazuje Ci nowe media.</p>
        <button class="choice" onclick="endLevel4('Świetnie się bawiliście oglądając razem. Koniec poziomu.')">Oglądasz</button>
        <button class="choice" onclick="endLevel4('Nie było to dla Ciebie ciekawe – Roxana się obraziła. Koniec poziomu.')">Odmów</button>
      `;
    }

    function endLevel4(message) {
      playerPath.push("level4_completed");    
      content.innerHTML = `
        <h2>Koniec Poziomu 4</h2>
        <p>${message}</p>
        <button class="choice" onclick="showLevels()">Powrót do wyboru poziomu</button>
      `;
    }
    
function level5() {
  if (!playerPath.includes("level4_completed")) {
    content.innerHTML = `
      <h2>Poziom 5</h2>
      <p>Najpierw musisz ukończyć wcześniejsze poziomy, aby odblokować ten!</p>
      <button class="choice" onclick="showLevels()">Powrót</button>
    `;
    return;
  }

  // Sprawdzenie, czy gracz wybrał "Uciekasz" w lvl3_fun1
  if (playerPath.includes("uciekasz")) {
    content.innerHTML = `
      <div id="warning" style="background:black; color:red; font-size:40px; text-align:center; height:300px; display:flex; justify-content:center; align-items:center;">
        PAMIĘTAM CIĘ
      </div>
    `;

    let warning = document.getElementById("warning");
    let visible = true;

    // migający napis
    let blink = setInterval(() => {
      warning.style.color = visible ? "darkred" : "red";
      visible = !visible;
    }, 500);

    setTimeout(() => {
      clearInterval(blink);
      showLevel5Choices();
    }, 5000);
  } else {
    showLevel5Choices();
  }
}

function showLevel5Choices() {
  content.innerHTML = `
    <h2>Poziom 5</h2>
    <p>Nowy dzień w szkole. Co robisz?</p>
    <button class="choice" onclick="lvl5_choice1()">Rozmawiasz z Dawidem i Oskarem</button>
    <button class="choice" onclick="lvl5_choice2()">Pomagasz Szymonowi z zasadami</button>
  `;
}

// WYBORY POZIOM 5
function lvl5_choice1() {
  content.innerHTML = `
    <h2>Żarty</h2>
    <p>Dawid i Oskar chcą nowego żartu na nauczyciela. Co robisz?</p>
    <button class="choice" onclick="endLevel5('Żart wyszedł genialnie – wszyscy się śmiali.')">Zgadzasz się</button>
    <button class="choice" onclick="endLevel5('Odmówiłeś – Dawid i Oskar byli zawiedzeni.')">Odmów</button>
  `;
}

function lvl5_choice2() {
  content.innerHTML = `
    <h2>Zasady</h2>
    <p>Szymon potrzebuje pomocy w spisaniu zasad. Co robisz?</p>
    <button class="choice" onclick="endLevel5('Pomogłeś i wszyscy byli zadowoleni.')">Pomagasz</button>
    <button class="choice" onclick="endLevel5('Odmówiłeś – Szymon był zawiedziony.')">Odmów</button>
  `;
}

function endLevel5(message) {
  playerPath.push("level5_completed");
  content.innerHTML = `
    <h2>Koniec Poziomu 5</h2>
    <p>${message}</p>
    <button class="choice" onclick="showLevels()">Powrót do wyboru poziomu</button>
  `;
}

function level6() {
  if (!playerPath.includes("level5_completed")) {
    content.innerHTML = `
      <h2>Poziom 6</h2>
      <p>Najpierw musisz ukończyć wcześniejsze poziomy!</p>
      <button class="choice" onclick="showLevels()">Powrót</button>
    `;
    return;
  }

  content.innerHTML = `
    <h2>Poziom 6</h2>
    <p>Cała klasa skończyła lekcję i idziecie do pizzerii. Po drodze koleżanki i koledzy zadają Ci pytania.</p>
    <button class="choice" onclick="lvl6_question1()">Odpowiadasz na pytanie 1</button>
  `;
}

function lvl6_question1() {
  content.innerHTML = `
    <h2>Pytanie 1</h2>
    <p>Kuba pyta: \"Jak Ci minęła lekcja?\"</p>
    <button class="choice" onclick="lvl6_question2()">Odpowiedź: Dobrze</button>
    <button class="choice" onclick="lvl6_question2()">Odpowiedź: Niezbyt</button>
  `;
}

function lvl6_question2() {
  content.innerHTML = `
    <h2>Pytanie 2</h2>
    <p>Roxana pyta: \"Co planujesz na przerwę?\"</p>
    <button class="choice" onclick="lvl6_rabbit()">Odpowiedź: Idziemy do pizzerii</button>
    <button class="choice" onclick="lvl6_rabbit()">Odpowiedź: Idę sam</button>
  `;
}

function lvl6_rabbit() {
  content.innerHTML = `
    <h2>Biały królik</h2>
    <p>Przed wami pojawia się duży mężczyzna w kostiumie białego królika (z kartonu). Chce, abyście poszli za nim. Chcesz iść za nim?</p>
    <button class="choice" onclick="lvl6_followRabbit()">Tak</button>
    <button class="choice" onclick="lvl6_noFollowRabbit()">Nie</button>
  `;
}

function lvl6_followRabbit() {
  if (playerPath.includes("uciekasz")) {
    playerPath.push("level6_completed");
    content.innerHTML = `
      <h2>Koniec Poziomu 6</h2>
      <p>Idziecie wszyscy zanim i zostajecie ogłuszeni.</p>
      <button class="choice" onclick="showLevels()">Powrót do wyboru poziomu</button>
    `;
  } else {
    playerPath.push("level6_completed");
    content.innerHTML = `
      <h2>Koniec Poziomu 6</h2>
      <p>Idziesz za królikiem i zostajesz ogłuszony. Ty i królik znikacie.</p>
      <button class="choice" onclick="showLevels()">Powrót do wyboru poziomu</button>
    `;
  }
}

function lvl6_noFollowRabbit() {
  playerPath.push("level6_completed");
  content.innerHTML = `
    <h2>Koniec Poziomu 6</h2>
    <p>Nie zdecydowałeś się iść za królikiem.</p>
    <button class="choice" onclick="showLevels()">Powrót do wyboru poziomu</button>
  `;
}

function level7() {
  if (!playerPath.includes("level6_completed")) {
    content.innerHTML = `
      <h2>Poziom 7</h2>
      <p>Najpierw musisz ukończyć wcześniejsze poziomy!</p>
      <button class="choice" onclick="showLevels()">Powrót</button>
    `;
    return;
  }

  content.innerHTML = `
    <h2>Poziom 7</h2>
    <p>Po dziwnym spotkaniu z królikiem w klasie narasta napięcie. Nagle Ksawery i Filip zaczynają się kłócić. Co robisz?</p>
    <button class="choice" onclick="lvl7_path1()">Stajesz po stronie Ksawerego</button>
    <button class="choice" onclick="lvl7_path2()">Stajesz po stronie Filipa</button>
  `;
}

function lvl7_path1() {
  content.innerHTML = `
    <h2>Po stronie Ksawerego</h2>
    <p>Filip obraża Cię i zaczyna się przepychanka. Co robisz?</p>
    <button class="choice" onclick="lvl7_path1a()">Oddajesz mu</button>
    <button class="choice" onclick="lvl7_path1b()">Ignorujesz</button>
  `;
}

function lvl7_path1a() {
  content.innerHTML = `
    <h2>Przepychanka</h2>
    <p>Nauczyciel wbiega do klasy i rozdziela was. Zostajesz wezwany do dyrektora!</p>
    <button class="choice" onclick="endLevel7('Dostałeś naganę – koniec poziomu.')">Koniec</button>
  `;
}

function lvl7_path1b() {
  content.innerHTML = `
    <h2>Ignorujesz</h2>
    <p>Filip uspokoił się, a Ksawery był Ci wdzięczny za wsparcie.</p>
    <button class="choice" onclick="playerPath.push('ksawery_wsparcie'); endLevel7('Zyskałeś szacunek Ksawerego – koniec poziomu.')">Koniec</button>
  `;
}

function lvl7_path2() {
  content.innerHTML = `
    <h2>Po stronie Filipa</h2>
    <p>Ksawery złości się i zaczyna grozić bójką. Co robisz?</p>
    <button class="choice" onclick="lvl7_path2a()">Stajesz do walki</button>
    <button class="choice" onclick="lvl7_path2b()">Wycofujesz się</button>
  `;
}

function lvl7_path2a() {
  content.innerHTML = `
    <h2>Walka</h2>
    <p>Kłótnia przeradza się w bójkę – nauczyciel daje wam obojgu uwagę.</p>
    <button class="choice" onclick="endLevel7('Masz uwagę – koniec poziomu.')">Koniec</button>
  `;
}

function lvl7_path2b() {
  content.innerHTML = `
    <h2>Wycofanie</h2>
    <p>Ksawery obraził Cię i odszedł, a Filip nie był zadowolony z Twojej postawy.</p>
    <button class="choice" onclick="playerPath.push('filip_wycofanie'); endLevel7('Straciłeś sympatię obu braci – koniec poziomu.')">Koniec</button>
  `;
}

function endLevel7(message) {
  playerPath.push("level7_completed");
  content.innerHTML = `
    <h2>Koniec Poziomu 7</h2>
    <p>${message}</p>
    <button class="choice" onclick="showLevels()">Powrót do wyboru poziomu</button>
  `;
}

function level8() {
  if (!playerPath.includes("level7_completed")) {
    content.innerHTML = `
      <h2>Poziom 8</h2>
      <p>Najpierw musisz ukończyć wcześniejsze poziomy!</p>
      <button class="choice" onclick="showLevels()">Powrót</button>
    `;
    return;
  }

  if (playerPath.includes("filip_wycofanie")) {
    content.innerHTML = `
      <h2>Poziom 8</h2>
      <p>Filip i Ksawery dalej Cię nie lubią i ignorują w klasie. Co robisz?</p>
      <button class="choice" onclick="lvl8_ignore()">Ignorujesz ich</button>
      <button class="choice" onclick="lvl8_talk()">Próbujesz pogadać</button>
    `;
  } else if (playerPath.includes("ksawery_wsparcie")) {
    content.innerHTML = `
      <h2>Poziom 8</h2>
      <p>Filip podchodzi do Ciebie i mówi: "Przepraszam za tamto". Co robisz?</p>
      <button class="choice" onclick="lvl8_accept()">Przyjmujesz przeprosiny</button>
      <button class="choice" onclick="lvl8_reject()">Odrzucasz przeprosiny</button>
    `;
  } else {
    // Domyślna wersja, jeśli ktoś skończył 7 inaczej
    content.innerHTML = `
      <h2>Poziom 8</h2>
      <p>Nic szczególnego się nie dzieje – lekcja toczy się spokojnie.</p>
      <button class="choice" onclick="endLevel8('Spokojny dzień minął bez kłopotów – koniec poziomu.')">Koniec</button>
    `;
  }
}

// ŚCIEŻKA – Filip i Ksawery dalej nie lubią
function lvl8_ignore() {
  endLevel8("Zignorowałeś ich – sytuacja w klasie została napięta. Koniec poziomu.");
}

function lvl8_talk() {
  endLevel8("Spróbowałeś pogadać, ale oni Cię wyśmiali. Koniec poziomu.");
}

// ŚCIEŻKA – Filip przeprasza
function lvl8_accept() {
  endLevel8("Przyjąłeś przeprosiny i pogodziliście się. Koniec poziomu.");
}

function lvl8_reject() {
  endLevel8("Odrzuciłeś przeprosiny – Ksawery się na Ciebie zdenerwował. Koniec poziomu.");
}

function endLevel8(message) {
  playerPath.push("level8_completed");
  content.innerHTML = `
    <h2>Koniec Poziomu 8</h2>
    <p>${message}</p>
    <button class="choice" onclick="showLevels()">Powrót do wyboru poziomu</button>
  `;
}

function level9() {
  if (!playerPath.includes("level8_completed")) {
    content.innerHTML = `
      <h2>Poziom 9</h2>
      <p>Najpierw musisz ukończyć wcześniejsze poziomy!</p>
      <button class="choice" onclick="showLevels()">Powrót</button>
    `;
    return;
  }

  if (playerPath.includes("filip_wycofanie")) {
    content.innerHTML = `
      <h2>Poziom 9</h2>
      <p>Na lekcji Filip i Ksawery szeptają coś o Tobie i śmieją się. Jak reagujesz?</p>
      <button class="choice" onclick="lvl9_filip1()">Ignorujesz ich</button>
      <button class="choice" onclick="lvl9_filip2()">Zwracasz im uwagę</button>
    `;
  } else if (playerPath.includes("ksawery_wsparcie")) {
    content.innerHTML = `
      <h2>Poziom 9</h2>
      <p>Po pogodzeniu Filip zaprasza Cię z Ksawerym do wspólnego projektu. Co robisz?</p>
      <button class="choice" onclick="lvl9_ksawery1()">Dołączasz</button>
      <button class="choice" onclick="lvl9_ksawery2()">Odmówisz</button>
    `;
  } else {
    content.innerHTML = `
      <h2>Poziom 9</h2>
      <p>Dzień mija spokojnie. Nauczyciel daje wam zadanie grupowe.</p>
      <button class="choice" onclick="lvl9_neutral1()">Pracujesz sam</button>
      <button class="choice" onclick="lvl9_neutral2()">Dołączasz do grupy</button>
    `;
  }
}

function lvl9_filip1() {
  content.innerHTML = `
    <h2>Ignorujesz</h2>
    <p>Bracia widzą, że nie reagujesz i zaczynają Cię mniej zaczepiać.</p>
    <button class="choice" onclick="endLevel9('Zyskałeś trochę spokoju – koniec poziomu.')">Koniec</button>
  `;
}

function lvl9_filip2() {
  content.innerHTML = `
    <h2>Zwracasz uwagę</h2>
    <p>Filip i Ksawery obśmiali Cię jeszcze bardziej.</p>
    <button class="choice" onclick="endLevel9('Atmosfera się pogorszyła – koniec poziomu.')">Koniec</button>
  `;
}

function lvl9_ksawery1() {
  content.innerHTML = `
    <h2>Projekt</h2>
    <p>Razem pracujecie i świetnie się dogadujecie.</p>
    <button class="choice" onclick="endLevel9('Nowa przyjaźń się rozwija – koniec poziomu.')">Koniec</button>
  `;
}

function lvl9_ksawery2() {
  content.innerHTML = `
    <h2>Odmowa</h2>
    <p>Filip był zawiedziony, a Ksawery nie rozumiał Twojej decyzji.</p>
    <button class="choice" onclick="endLevel9('Wasze relacje lekko się ochłodziły – koniec poziomu.')">Koniec</button>
  `;
}

function lvl9_neutral1() {
  content.innerHTML = `
    <h2>Samodzielnie</h2>
    <p>Projekt zrobiłeś szybko, ale było nudno.</p>
    <button class="choice" onclick="endLevel9('Samodzielna praca skończona – koniec poziomu.')">Koniec</button>
  `;
}

function lvl9_neutral2() {
  content.innerHTML = `
    <h2>Grupa</h2>
    <p>W grupie poszło wolniej, ale było wesoło.</p>
    <button class="choice" onclick="endLevel9('Projekt skończony w grupie – koniec poziomu.')">Koniec</button>
  `;
}

function endLevel9(message) {
  playerPath.push("level9_completed");
  content.innerHTML = `
    <h2>Koniec Poziomu 9</h2>
    <p>${message}</p>
    <button class="choice" onclick="showLevels()">Powrót do wyboru poziomu</button>
  `;
}

function level10() {
  if (!playerPath.includes("level9_completed")) {
    content.innerHTML = `
      <h2>Poziom 10</h2>
      <p>Najpierw musisz ukończyć wcześniejsze poziomy!</p>
      <button class="choice" onclick="showLevels()">Powrót</button>
    `;
    return;
  }

  content.innerHTML = `<h2>Poziom 10</h2>`;
  
  if (playerPath.includes("filip_wycofanie")) {
    content.innerHTML += `
      <p>Po wielu dniach ciszy Ksawery i Filip podchodzą do Ciebie i chcą Cię przeprosić. Co robisz?</p>
      <button class="choice" onclick="lvl10_forgive()">Przyjmujesz przeprosiny</button>
      <button class="choice" onclick="lvl10_ignore()">Ignorujesz ich</button>
    `;
  } else {
    content.innerHTML += `
      <p>Dzień mija spokojnie, nic szczególnego się nie dzieje.</p>
      <button class="choice" onclick="endLevel10('Zakończyłeś dzień spokojnie – koniec poziomu.')">Koniec</button>
    `;
  }
}

function lvl10_forgive() {
  content.innerHTML = `
    <h2>Przyjąłeś przeprosiny</h2>
    <p>Ksawery i Filip uśmiechnęli się i od tego momentu wasza relacja się poprawiła.</p>
    <button class="choice" onclick="endLevel10('Zyskałeś zaufanie braci – koniec poziomu.')">Koniec</button>
  `;
}

function lvl10_ignore() {
  content.innerHTML = `
    <h2>Ignorujesz</h2>
    <p>Bracia byli zawiedzeni, że nie chcesz z nimi rozmawiać. Odeszli smutni.</p>
    <button class="choice" onclick="endLevel10('Relacje pozostały chłodne – koniec poziomu.')">Koniec</button>
  `;
}

function endLevel10(message) {
  playerPath.push("level10_completed");
  content.innerHTML = `
    <h2>Koniec Poziomu 10</h2>
    <p>${message}</p>
    <button class="choice" onclick="showLevels()">Powrót do wyboru poziomu</button>
  `;
}

function level11() {
  if (!playerPath.includes("level10_completed")) {
    content.innerHTML = `
      <h2>Poziom 11</h2>
      <p>Najpierw musisz ukończyć wcześniejsze poziomy!</p>
      <button class="choice" onclick="showLevels()">Powrót</button>
    `;
    return;
  }

  content.innerHTML = `
    <h2>Poziom 11</h2>
    <p>Po miesiącu wracają starzy znajomi: Kacper, Łukasz i Nateo. 
    W klasie są wszyscy twoi koledzy i koleżanki. Z kim chcesz spędzić czas?</p>
    <button class="choice" onclick="lvl11_oldFriends()">Z Kacprem, Łukaszem i Nateo</button>
    <button class="choice" onclick="lvl11_classmates()">Z całą klasą</button>
  `;
}

function lvl11_oldFriends() {
  content.innerHTML = `
    <h2>Starzy znajomi</h2>
    <p>Kacper, Łukasz i Nateo opowiadają, że mieli sporo przygód. 
    Proponują mały psikus na nauczyciela. Co robisz?</p>
    <button class="choice" onclick="lvl11_oldFriends_prank()">Zgadzasz się na psikus</button>
    <button class="choice" onclick="lvl11_oldFriends_calm()">Odmów i rozmawiaj spokojnie</button>
  `;
}

function lvl11_oldFriends_prank() {
  content.innerHTML = `
    <h2>Psikus</h2>
    <p>Żart się udał, ale nauczyciel zauważył zamieszanie. 
    Milena i Oskar śmieją się na cały głos.</p>
    <button class="choice" onclick="endLevel11('Zostałeś rozrabiaką razem z Kacprem, Łukaszem i Nateo – koniec poziomu.')">Śmiejesz się razem z nimi</button>
    <button class="choice" onclick="endLevel11('Próbujesz się wymigać – ale nauczyciel i tak dał uwagę. Koniec poziomu.')">Udajesz, że nie brałeś udziału</button>
  `;
}

function lvl11_oldFriends_calm() {
  content.innerHTML = `
    <h2>Spokojna rozmowa</h2>
    <p>Rozmawiacie o grach i mediach społecznościowych. Roxana i Natalka dołączają do rozmowy.</p>
    <button class="choice" onclick="endLevel11('Zyskałeś nowych sojuszników do pogaduch o mediach – koniec poziomu.')">Rozmawiasz z nimi</button>
    <button class="choice" onclick="endLevel11('Znudzony odchodzisz – zostajesz sam. Koniec poziomu.')">Odchodzisz</button>
  `;
}

function lvl11_classmates() {
  content.innerHTML = `
    <h2>Cała klasa</h2>
    <p>Dawid i Oskar znów zaczynają swoje żarty, a Szymon krzyczy, że to łamanie zasad. 
    Milena i Wiktoria kłócą się z Oliwią. Co robisz?</p>
    <button class="choice" onclick="lvl11_class_fun()">Dołączasz do żartów Dawida i Oskara</button>
    <button class="choice" onclick="lvl11_class_rules()">Stajesz po stronie Szymona i zasad</button>
  `;
}

function lvl11_class_fun() {
  content.innerHTML = `
    <h2>Żarty</h2>
    <p>Żarty wymykają się spod kontroli. Adam i Sławek proponują jeszcze większą akcję.</p>
    <button class="choice" onclick="endLevel11('Wszyscy się śmieją, ale nauczyciel wzywa rodziców – koniec poziomu.')">Dołączasz</button>
    <button class="choice" onclick="endLevel11('Wycofujesz się i unikasz kłopotów – koniec poziomu.')">Wycofujesz się</button>
  `;
}

function lvl11_class_rules() {
  content.innerHTML = `
    <h2>Po stronie zasad</h2>
    <p>Pomagasz Szymonowi uspokoić klasę. Marcel proponuje wspólny trening, żeby rozładować emocje.</p>
    <button class="choice" onclick="endLevel11('Dołączasz do Marcela i zyskujesz kondycję – koniec poziomu.')">Idziesz na trening</button>
    <button class="choice" onclick="endLevel11('Odmawiasz i wracasz do domu w spokoju – koniec poziomu.')">Odmów</button>
  `;
}

function endLevel11(message) {
  playerPath.push("level11_completed");
  content.innerHTML = `
    <h2>Koniec Poziomu 11</h2>
    <p>${message}</p>
    <button class="choice" onclick="showLevels()">Powrót do wyboru poziomu</button>
  `;
}

function level12() {
  if (!playerPath.includes("level11_completed")) {
    content.innerHTML = `
      <h2>Poziom 12</h2>
      <p>Najpierw musisz ukończyć wcześniejsze poziomy!</p>
      <button class="choice" onclick="showLevels()">Powrót</button>
    `;
    return;
  }

  content.innerHTML = `
    <h2>Poziom 12</h2>
    <p>Po wydarzeniach z poprzedniego dnia cała klasa i starzy znajomi (Kacper, Łukasz, Nateo) 
    planują wspólną wyprawę po lekcjach. Jedni chcą iść na boisko, inni do galerii. 
    Co wybierasz?</p>
    <button class="choice" onclick="lvl12_boisko()">Idziesz na boisko</button>
    <button class="choice" onclick="lvl12_galeria()">Idziesz do galerii</button>
  `;
}

function lvl12_boisko() {
  content.innerHTML = `
    <h2>Boisko</h2>
    <p>Na boisku Marcel proponuje trening, Dawid i Oskar chcą żartować z przechodniów. 
    Co robisz?</p>
    <button class="choice" onclick="lvl12_boisko_trening()">Dołączasz do Marcela</button>
    <button class="choice" onclick="lvl12_boisko_zarty()">Dołączasz do Dawida i Oskara</button>
  `;
}

function lvl12_boisko_trening() {
  content.innerHTML = `
    <h2>Trening</h2>
    <p>Ćwiczysz z Marcelem, a Kacper i Nateo dołączają do zabawy. 
    Atmosfera jest świetna.</p>
    <button class="choice" onclick="endLevel12('Zyskałeś kondycję i szacunek kolegów – koniec poziomu.')">Koniec</button>
    <button class="choice" onclick="endLevel12('Zmęczyłeś się i szybko zrezygnowałeś – koniec poziomu.')">Rezygnujesz</button>
  `;
}

function lvl12_boisko_zarty() {
  content.innerHTML = `
    <h2>Żarty na boisku</h2>
    <p>Dawid i Oskar robią psikusy, Łukasz się śmieje, a Szymon jest oburzony.</p>
    <button class="choice" onclick="endLevel12('Psikus się udał, ale nauczyciel was przyłapał – koniec poziomu.')">Pomagasz w żarcie</button>
    <button class="choice" onclick="endLevel12('Wycofałeś się i zostałeś neutralny – koniec poziomu.')">Wycofujesz się</button>
  `;
}

function lvl12_galeria() {
  content.innerHTML = `
    <h2>Galeria</h2>
    <p>W galerii Milena i Wiktoria kłócą się z Oliwią, a Filip i Ksawery obserwują w milczeniu. 
    Roxana i Natalka rozmawiają o serialach. Co robisz?</p>
    <button class="choice" onclick="lvl12_galeria_konflikt()">Dołączasz do kłótni</button>
    <button class="choice" onclick="lvl12_galeria_seriale()">Idziesz do Roxany i Natalki</button>
  `;
}

function lvl12_galeria_konflikt() {
  content.innerHTML = `
    <h2>Kłótnia</h2>
    <p>Milena, Wiktoria i Oliwia zaczynają krzyczeć coraz głośniej. 
    Adam i Sławek dopingują. Filip w końcu pyta Cię o zdanie.</p>
    <button class="choice" onclick="endLevel12('Wsparłeś Milenę i Wiktorię – Oliwia obraziła się na Ciebie. Koniec poziomu.')">Stajesz po stronie Mileny i Wiktorii</button>
    <button class="choice" onclick="endLevel12('Wsparłeś Oliwię – Milena i Wiktoria się obraziły. Koniec poziomu.')">Stajesz po stronie Oliwii</button>
  `;
}

function lvl12_galeria_seriale() {
  content.innerHTML = `
    <h2>Seriale</h2>
    <p>Rozmawiasz z Roxaną i Natalką o mediach i serialach. Kuba i Karol też się dosiadają.</p>
    <button class="choice" onclick="endLevel12('Wszyscy dobrze się bawicie – koniec poziomu.')">Rozmawiasz dalej</button>
    <button class="choice" onclick="endLevel12('Nudzi Cię to i odchodzisz – koniec poziomu.')">Odchodzisz</button>
  `;
}

function endLevel12(message) {
  playerPath.push("level12_completed");
  content.innerHTML = `
    <h2>Koniec Poziomu 12</h2>
    <p>${message}</p>
    <button class="choice" onclick="showLevels()">Powrót do wyboru poziomu</button>
  `;
}

function level13() {
   if (!playerPath.includes("level12_completed")) {
     content.innerHTML = `
       <h2>Poziom 13</h2>
       <p>Najpierw musisz ukończyć wcześniejsze poziomy!</p>
       <button class="choice" onclick="showLevels()">Powrót</button>
    `;
    return;
  }

  // Migający napis "WIDZĘ CIĘ"
  content.innerHTML = `
    <div id="creepyMessage" style="color:red; font-size:40px; text-align:center; margin-top:100px; font-weight:bold;">
      WIDZĘ CIĘ
    </div>
  `;

  let flashing = true;
  let flashInterval = setInterval(() => {
    let el = document.getElementById("creepyMessage");
    if (!el) return;
    el.style.color = flashing ? "darkred" : "red";
    flashing = !flashing;
  }, 200); // szybciej miga niż w 5

  setTimeout(() => {
    clearInterval(flashInterval);

    // Start fabuły Poziomu 13
    content.innerHTML = `
      <h2>Poziom 13</h2>
      <p>Nagle biały królik w kartonowym kostiumie pojawia się przed klasą. 
      Tym razem nie żartuje – atakuje was! Co robisz?</p>
      <button class="choice" onclick="lvl13_fight()">Bronisz się</button>
      <button class="choice" onclick="lvl13_run()">Uciekasz</button>
    `;
  }, 4000); // 4 sekundy
}

// Walka z królikiem
function lvl13_fight() {
  content.innerHTML = `
    <h2>Walka</h2>
    <p>Ty, Marcel i Adam próbujecie obronić klasę. Królik jest silniejszy, ale udaje wam się go zatrzymać na chwilę.</p>
    <button class="choice" onclick="lvl13_reveal()">Dalej</button>
  `;
}

// Ucieczka przed królikiem
function lvl13_run() {
  content.innerHTML = `
    <h2>Ucieczka</h2>
    <p>Cała klasa w panice ucieka, ale królik dogania was w ciemnym korytarzu. 
    Gdy już myślisz, że to koniec...</p>
    <button class="choice" onclick="lvl13_reveal()">Dalej</button>
  `;
}

// 🔥 Ujawnienie mocy Nateo
function lvl13_reveal() {
  content.innerHTML = `
    <h2>Moc Cienia</h2>
    <p>Nagle Nateo wysuwa się na środek. Z jego rąk wydobywa się czarna energia. 
    Cienie oplatają białego królika i zatrzymują go w miejscu. 
    Cała klasa patrzy w osłupieniu – Nateo właśnie ujawnił swoją moc cienia.</p>
    <button class="choice" onclick="endLevel13('Nateo ujawnił moc cienia. Królik został pokonany, ale teraz wszyscy boją się Nateo.')">Koniec</button>
  `;
}

function endLevel13(message) {
  playerPath.push("level13_completed");
  content.innerHTML = `
    <h2>Koniec Poziomu 13</h2>
    <p>${message}</p>
    <button class="choice" onclick="showLevels()">Powrót do wyboru poziomu</button>
  `;
}

function level14() {
  if (!playerPath.includes("level13_completed")) {
    content.innerHTML = `
      <h2>Poziom 14</h2>
      <p>Najpierw musisz ukończyć Poziom 13, aby odblokować Poziom 14!</p>
      <button class="choice" onclick="showLevels()">Powrót</button>
    `;
    return;
  }

  content.innerHTML = `
  <h2>Poziom 14</h2>
  <p>Po ujawnieniu mocy cienia przez Nateo, klasa zaczyna się dzielić. 
  Część osób (Marcel, Dawid, Oskar) uważa, że to świetne i chcą, żeby Nateo was chronił. 
  Inni (Szymon, Milena, Wiktoria) są przerażeni i żądają, by Nateo odszedł. 
  Co robisz?</p>
  <button class="choice" onclick="confirmChoice('support')">Bronisz Nateo</button>
  <button class="choice" onclick="confirmChoice('against')">Stajesz przeciwko Nateo</button>
`;
}

function lvl14_support() {
  content.innerHTML = `
    <h2>Obrona Nateo</h2>
    <p>Stajesz po stronie Nateo. Filip i Ksawery też zaczynają go wspierać. 
    Klasa dzieli się na dwa obozy. Sytuacja jest napięta.</p>
    <button class="choice" onclick="endLevel14('Zyskałeś zaufanie Nateo i jego zwolenników, ale reszta klasy odwróciła się od ciebie. Koniec poziomu.')">Koniec</button>
    <button class="choice" onclick="endLevel14('Zdołałeś uspokoić wszystkich i pogodzić oba obozy – koniec poziomu.')">Próbujesz pogodzić</button>
  `;
}

function lvl14_against() {
  content.innerHTML = `
    <h2>Przeciwko Nateo</h2>
    <p>Mówisz, że Nateo jest zbyt niebezpieczny. Milena i Wiktoria ci przyklaskują, 
    ale Kacper i Łukasz patrzą na ciebie ze złością.</p>
    <button class="choice" onclick="endLevel14('Nateo uciekł, a część klasy zaczęła cię wspierać – koniec poziomu.')">Koniec</button>
    <button class="choice" onclick="endLevel14('Nateo spojrzał na ciebie z żalem, a potem zniknął w cieniu – koniec poziomu.')">Pozwalasz mu odejść</button>
  `;
}

function endLevel14(message) {
  playerPath.push("level14_completed");
  content.innerHTML = `
    <h2>Koniec Poziomu 14</h2>
    <p>${message}</p>
    <button class="choice" onclick="showLevels()">Powrót do wyboru poziomu</button>
  `;
}

function level15() {
  if (!playerPath.includes("level14_completed")) {
    content.innerHTML = `
      <h2>Poziom 15</h2>
      <p>Najpierw musisz ukończyć Poziom 14, aby odblokować Poziom 15!</p>
      <button class="choice" onclick="showLevels()">Powrót</button>
    `;
    return;
  }

  // Sprawdzenie ścieżki
  if (playerPath.includes("support_nateo")) {
    content.innerHTML = `
      <h2>Poziom 15</h2>
      <p>Jesteś w obozie Nateo. Marcel, Dawid, Oskar i Filip stoją po waszej stronie. 
      Milena, Wiktoria i Szymon jednak knują coś przeciwko wam. 
      Co robisz?</p>
      <button class="choice" onclick="lvl15_alliance()">Rozwijasz sojusz z Nateo</button>
      <button class="choice" onclick="lvl15_peace()">Próbujesz pogodzić wszystkich</button>
    `;
  } else if (playerPath.includes("against_nateo")) {
    content.innerHTML = `
      <h2>Poziom 15</h2>
      <p>Stanąłeś przeciwko Nateo. Klasa jest po twojej stronie, ale Nateo zniknął w cieniu. 
      Pojawiają się plotki, że może wrócić jeszcze silniejszy. 
      Co robisz?</p>
      <button class="choice" onclick="lvl15_prepare()">Przygotowujesz klasę na jego powrót</button>
      <button class="choice" onclick="lvl15_ignore()">Ignorujesz zagrożenie</button>
    `;
  } else {
    content.innerHTML = `
      <h2>Poziom 15</h2>
      <p>Twoje wybory w 14 sprawiły, że stoisz pośrodku konfliktu. 
      Klasa jest podzielona, Nateo gdzieś zniknął. 
      Co robisz?</p>
      <button class="choice" onclick="lvl15_neutral1()">Zbierasz informacje o Nateo</button>
      <button class="choice" onclick="lvl15_neutral2()">Czekasz, co się wydarzy</button>
    `;
  }
}

function lvl15_alliance() {
  content.innerHTML = `
    <h2>Sojusz z Nateo</h2>
    <p>Twój sojusz z Nateo rośnie w siłę. Klasa zaczyna się was bać.</p>
    <button class="choice" onclick="endLevel15('Stworzyliście własną grupę z Nateo na czele. Klasa jest podzielona – koniec poziomu.')">Koniec</button>
  `;
}

function lvl15_peace() {
  content.innerHTML = `
    <h2>Pokój</h2>
    <p>Próbujesz pogodzić oba obozy. To trudne, ale częściowo się udaje.</p>
    <button class="choice" onclick="endLevel15('Zyskałeś szacunek za próbę pogodzenia wszystkich – koniec poziomu.')">Koniec</button>
  `;
}

function lvl15_prepare() {
  content.innerHTML = `
    <h2>Przygotowania</h2>
    <p>Organizujesz klasę, aby w razie powrotu Nateo była gotowa. 
    Szymon pomaga spisać zasady, Marcel ćwiczy obronę.</p>
    <button class="choice" onclick="endLevel15('Klasa jest gotowa na powrót Nateo – koniec poziomu.')">Koniec</button>
  `;
}

function lvl15_ignore() {
  content.innerHTML = `
    <h2>Ignorancja</h2>
    <p>Ignorujesz zagrożenie. Klasa bawi się, jakby nic się nie stało. 
    Ale w cieniu czai się Nateo...</p>
    <button class="choice" onclick="endLevel15('Klasa jest nieprzygotowana – koniec poziomu.')">Koniec</button>
  `;
}

function lvl15_neutral1() {
  content.innerHTML = `
    <h2>Śledztwo</h2>
    <p>Rozmawiasz z Kacprem i Łukaszem o tym, skąd Nateo mógł mieć tę moc.</p>
    <button class="choice" onclick="endLevel15('Dowiedziałeś się, że Nateo mógł trenować w ukryciu – koniec poziomu.')">Koniec</button>
  `;
}

function lvl15_neutral2() {
  content.innerHTML = `
    <h2>Oczekiwanie</h2>
    <p>Nic nie robisz, czekasz. Nagle czujesz, że coś obserwuje klasę z mroku.</p>
    <button class="choice" onclick="endLevel15('Czujesz strach i niepewność – koniec poziomu.')">Koniec</button>
  `;
}

function endLevel15(message) {
  playerPath.push("level15_completed");
  content.innerHTML = `
    <h2>Koniec Poziomu 15</h2>
    <p>${message}</p>
    <button class="choice" onclick="showLevels()">Powrót do wyboru poziomu</button>
  `;
}

function level16() {
  if (!playerPath.includes("level15_completed")) {
    content.innerHTML = `
      <h2>Poziom 16</h2>
      <p>Najpierw musisz ukończyć Poziom 15, aby odblokować Poziom 16!</p>
      <button class="choice" onclick="showLevels()">Powrót</button>
    `;
    return;
  }

  if (playerPath.includes("support_nateo")) {
    content.innerHTML = `
      <h2>Poziom 16</h2>
      <p>Twój sojusz z Nateo wkracza w nową fazę. 
      Nateo zaczyna ujawniać coraz dziwniejsze moce, a klasa zaczyna się bać. 
      On pyta ciebie: <i>"Czy naprawdę jesteś ze mną do końca?"</i></p>
      <button class="choice" onclick="lvl16_loyal()">Potwierdzasz lojalność</button>
      <button class="choice" onclick="lvl16_doubt()">Wyrażasz wątpliwości</button>
    `;
  } else if (playerPath.includes("against_nateo")) {
    content.innerHTML = `
      <h2>Poziom 16</h2>
      <p>Cała klasa szykuje się na możliwy powrót Nateo. 
      Nagle w ciemnym kącie sali pojawia się cień w ludzkiej postaci – 
      Nateo wrócił, silniejszy niż wcześniej!</p>
      <button class="choice" onclick="lvl16_face()">Stajesz mu naprzeciw</button>
      <button class="choice" onclick="lvl16_hide()">Ukrywasz się za klasą</button>
    `;
  } else {
    content.innerHTML = `
      <h2>Poziom 16</h2>
      <p>Stoisz pośrodku konfliktu. Nateo ani nie jest twoim wrogiem, ani sprzymierzeńcem. 
      Tymczasem Dawid i Oskar proszą cię o decyzję: <i>"Musisz w końcu wybrać stronę!"</i></p>
      <button class="choice" onclick="lvl16_chooseNateo()">Dołączasz do Nateo</button>
      <button class="choice" onclick="lvl16_chooseClass()">Dołączasz do klasy</button>
    `;
  }
}

function lvl16_loyal() {
  content.innerHTML = `
    <h2>Lojalność</h2>
    <p>Potwierdzasz wsparcie dla Nateo. On uśmiecha się złowieszczo i mówi: 
    <i>"Razem przejmiemy kontrolę nad całą klasą."</i></p>
    <button class="choice" onclick="endLevel16('Twoje miejsce jest u boku Nateo. Klasa zaczyna się was bać – koniec poziomu.')">Koniec</button>
  `;
}

function lvl16_doubt() {
  content.innerHTML = `
    <h2>Wątpliwości</h2>
    <p>Mówisz Nateo, że boisz się jego mocy. 
    Nateo patrzy na ciebie podejrzliwie i znika w cieniu...</p>
    <button class="choice" onclick="endLevel16('Nateo zaczyna ci nie ufać – koniec poziomu.')">Koniec</button>
  `;
}

function lvl16_face() {
  content.innerHTML = `
    <h2>Konfrontacja</h2>
    <p>Stajesz naprzeciw Nateo. Cała klasa patrzy na ciebie z nadzieją. 
    On atakuje cieniem, ale udaje ci się go zatrzymać na chwilę.</p>
    <button class="choice" onclick="endLevel16('Klasa widzi w tobie lidera – koniec poziomu.')">Koniec</button>
  `;
}

function lvl16_hide() {
  content.innerHTML = `
    <h2>Ukrywanie się</h2>
    <p>Chowasz się za plecami klasy. Nateo zauważa to i śmieje się złowieszczo: 
    <i>"Tchórze, i ty chcesz być ich liderem?"</i></p>
    <button class="choice" onclick="endLevel16('Straciłeś zaufanie klasy – koniec poziomu.')">Koniec</button>
  `;
}

function lvl16_chooseNateo() {
  playerPath.push("support_nateo"); // zmiana ścieżki
  content.innerHTML = `
    <h2>Wybór</h2>
    <p>Decydujesz się dołączyć do Nateo. Klasa patrzy na ciebie z nienawiścią.</p>
    <button class="choice" onclick="endLevel16('Dołączyłeś do Nateo – koniec poziomu.')">Koniec</button>
  `;
}

function lvl16_chooseClass() {
  playerPath.push("against_nateo"); // zmiana ścieżki
  content.innerHTML = `
    <h2>Wybór</h2>
    <p>Decydujesz się stanąć po stronie klasy. Nateo zaciska pięści w cieniu...</p>
    <button class="choice" onclick="endLevel16('Stanąłeś po stronie klasy – koniec poziomu.')">Koniec</button>
  `;
}

function endLevel16(message) {
  playerPath.push("level16_completed");
  content.innerHTML = `
    <h2>Koniec Poziomu 16</h2>
    <p>${message}</p>
    <button class="choice" onclick="showLevels()">Powrót do wyboru poziomu</button>
  `;
}

function level17() {
  if (!playerPath.includes("level16_completed")) {
    content.innerHTML = `
      <h2>Poziom 17</h2>
      <p>Najpierw musisz ukończyć Poziom 16, aby odblokować Poziom 17!</p>
      <button class="choice" onclick="showLevels()">Powrót</button>
    `;
    return;
  }

  content.innerHTML = `
    <h2>Poziom 17</h2>
    <p>Klasa zbiera się przy ognisku. Wszyscy rozmawiają o Nateo i jego mocy cienia. 
    Atmosfera jest napięta, ale chwila wydaje się spokojna. Co robisz?</p>
    <button class="choice" onclick="lvl17_talk()">Rozmawiasz o Nateo</button>
    <button class="choice" onclick="lvl17_silent()">Siedzisz w ciszy</button>
  `;
}

function lvl17_talk() {
  content.innerHTML = `
    <h2>Rozmowa</h2>
    <p>Dołączasz do rozmowy o Nateo. Wiktoria i Milena są przeciwko niemu, 
    ale Dawid i Oskar go bronią. Dyskusja robi się gorąca.</p>
    <button class="choice" onclick="lvl17_leave()">Nateo odchodzi</button>
  `;
}

function lvl17_silent() {
  content.innerHTML = `
    <h2>Cisza</h2>
    <p>Siedzisz w ciszy, obserwując resztę. 
    Nikt nie wie, co myślisz o Nateo, a on wydaje się coraz bardziej nerwowy.</p>
    <button class="choice" onclick="lvl17_leave()">Nateo odchodzi</button>
  `;
}

function lvl17_leave() {
  content.innerHTML = `
    <h2>Niepokojące wydarzenie</h2>
    <p>Nateo nagle wstaje i odchodzi od ogniska. Wszyscy patrzą za nim z niepokojem. 
    Możesz spróbować go zatrzymać albo pozwolić mu odejść.</p>
    <button class="choice" onclick="lvl17_stop()">Próbujesz go zatrzymać</button>
    <button class="choice" onclick="lvl17_attack()">Pozwalasz mu odejść</button>
  `;
}

function lvl17_stop() {
  content.innerHTML = `
    <h2>Zatrzymanie</h2>
    <p>Wołasz do Nateo, żeby wrócił. 
    On tylko odwraca się na chwilę, po czym idzie dalej. 
    Wtedy pojawia się Biały Królik...</p>
    <button class="choice" onclick="lvl17_attack()">Dalej</button>
  `;
}

function lvl17_attack() {
  content.innerHTML = `
    <h2>Atak Białego Królika</h2>
    <p>Biały Królik nagle wyskakuje z ciemności i dźga Nateo nożem! 
    Klasa jest w szoku. Możesz spróbować mu pomóc albo uciec.</p>
    <button class="choice" onclick="lvl17_help()">Pomagasz Nateo</button>
    <button class="choice" onclick="lvl17_hide()">Ukrywasz się</button>
  `;
}

function lvl17_help() {
  content.innerHTML = `
    <h2>Pomoc Nateo</h2>
    <p>Rzucasz się w stronę Nateo, próbując go ratować. 
    Królik znika w cieniu, zostawiając cię obok rannego Nateo.</p>
    <button class="choice" onclick="endLevel17('Nateo został ranny, ale dzięki tobie przeżył. Klasa patrzy na ciebie z szacunkiem – koniec poziomu.')">Koniec</button>
  `;
}

function lvl17_hide() {
  content.innerHTML = `
    <h2>Ukrycie się</h2>
    <p>Chowasz się za plecami klasy. 
    Nateo zostaje ugodzony nożem, a ty nie robisz nic, by mu pomóc.</p>
    <button class="choice" onclick="endLevel17('Nateo został ciężko ranny, a klasa uważa cię za tchórza – koniec poziomu.')">Koniec</button>
  `;
}

function endLevel17(message) {
  playerPath.push("level17_completed");
  content.innerHTML = `
    <h2>Koniec Poziomu 17</h2>
    <p>${message}</p>
    <button class="choice" onclick="showLevels()">Powrót do wyboru poziomu</button>
  `;
}

function level18() {
  if (!playerPath.includes("level17_completed")) {
    content.innerHTML = `
      <h2>Poziom 18</h2>
      <p>Najpierw musisz ukończyć Poziom 17, aby odblokować Poziom 18!</p>
      <button class="choice" onclick="showLevels()">Powrót</button>
    `;
    return;
  }

  content.innerHTML = `
    <h2>Poziom 18</h2>
    <p>Po ataku Białego Królika klasa wreszcie odkłada konflikty na bok. 
    Wszyscy zaczynają współpracować, by chronić siebie nawzajem i pomóc rannemu Nateo. 
    Słychać rozmowy i plany – każdy coś proponuje. Co robisz?</p>
    <button class="choice" onclick="lvl18_plan()">Proponujesz własny plan</button>
    <button class="choice" onclick="lvl18_listen()">Słuchasz innych</button>
  `;
}

// 🔹 Ścieżka: proponujesz plan
function lvl18_plan() {
  content.innerHTML = `
    <h2>Twój plan</h2>
    <p>Przedstawiasz swój pomysł na obronę przed Królikiem. 
    Klasa słucha cię uważnie i część uczniów chce iść za tobą.</p>
    <button class="choice" onclick="lvl18_final()">Dalej</button>
  `;
}

// 🔹 Ścieżka: słuchasz innych
function lvl18_listen() {
  content.innerHTML = `
    <h2>Współpraca</h2>
    <p>Postanawiasz nie wychylać się i słuchać innych. 
    Zaskakująco, cała klasa zaczyna działać razem jak drużyna.</p>
    <button class="choice" onclick="lvl18_final()">Dalej</button>
  `;
}

// 🔹 Pojawienie się Oliwiera
function lvl18_final() {
  content.innerHTML = `
    <h2>Niespodziewane wydarzenie</h2>
    <p>Nagle na ziemię spada postać w czerwonym stroju samuraja. 
    Klasa wstrzymuje oddech, gdy zdejmuje hełm... 
    To <b>Oliwier</b>, wasz dawny kolega z klasy!</p>
    <button class="choice" onclick="endLevel18('Oliwier powrócił jako samuraj w czerwonym stroju. Klasa jest w szoku – koniec poziomu.')">Koniec</button>
  `;
}

function endLevel18(message) {
  playerPath.push("level18_completed");
  content.innerHTML = `
    <h2>Koniec Poziomu 18</h2>
    <p>${message}</p>
    <button class="choice" onclick="showLevels()">Powrót do wyboru poziomu</button>
  `;
}

    showMenu();
    
</script>
</body>
</html>
